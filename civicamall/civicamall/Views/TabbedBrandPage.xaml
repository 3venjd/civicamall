<?xml version="1.0" encoding="utf-8" ?>
<ContentPage xmlns="http://xamarin.com/schemas/2014/forms"
             xmlns:x="http://schemas.microsoft.com/winfx/2009/xaml"
             xmlns:d="http://xamarin.com/schemas/2014/forms/design"
             xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006" 
             xmlns:ip="clr-namespace:civicamall.ViewModels"
             xmlns:tabview="clr-namespace:Xam.TabView;assembly=Xam.TabView"
             xmlns:control="clr-namespace:Xam.TabView.Control;assembly=Xam.TabView"
             xmlns:Local="clr-namespace:civicamall.Views" xmlns:pv="clr-namespace:Xamarin.Forms.PancakeView;assembly=Xamarin.Forms.PancakeView"
             NavigationPage.HasNavigationBar="False"
             mc:Ignorable="d"
             x:Class="civicamall.Views.TabbedBrandPage">
    <ContentPage.BindingContext>
        <ip:StoreViewModel/>
    </ContentPage.BindingContext>
    <ScrollView>
    <Grid>
        <Grid.ColumnDefinitions>
            <ColumnDefinition Width="*"/>
        </Grid.ColumnDefinitions>
        <Grid.RowDefinitions>
            <RowDefinition Height="200"/>
            <RowDefinition Height="auto"/>
        </Grid.RowDefinitions>
        <Image Grid.Column="0" Grid.Row="0" Aspect="AspectFill" Source="ic_adidas.png"/>
        
            <pv:PancakeView HorizontalOptions="Start" VerticalOptions="Start" HeightRequest="40" WidthRequest="40" Margin="0,0" CornerRadius="0,0,0,20" BackgroundColor="White" Padding="0">
                <Button Margin="0" BackgroundColor="White" ImageSource="round_arrow_back_24px.png" Command="{Binding Backtopreviospage}"/>
            </pv:PancakeView>

            <pv:PancakeView HorizontalOptions="End" VerticalOptions="Start" HeightRequest="40" WidthRequest="40" Margin="0,0" CornerRadius="0,0,20,0" BackgroundColor="White" Padding="0">
                <Button Margin="0" BackgroundColor="White" ImageSource="shopping_cart_24px.png" Command="{Binding GoToShopping}"/>
            </pv:PancakeView>

            <pv:PancakeView HorizontalOptions="Center" VerticalOptions="Start" HeightRequest="30" WidthRequest="200" Padding="0" Margin="0,10" BackgroundColor="White" BorderColor="Black" CornerRadius="6">
                <Grid Padding="0">
                    <Grid.ColumnDefinitions>
                        <ColumnDefinition Width="0.1*"/>
                        <ColumnDefinition Width="0.9*"/>
                    </Grid.ColumnDefinitions>
                    <Image Grid.Column="0" Source="search_24px" Aspect="AspectFit" VerticalOptions="Center"/>
                    <Entry Grid.Column="1" Margin="0,0,0,-9" Placeholder="¿Qué necesitas?" PlaceholderColor="#1C1229" BackgroundColor="Transparent"/>
                </Grid>
            </pv:PancakeView>

            <control:XFTabControl Grid.Column="0" Grid.Row="1" x:Name="Tabcomponent" Padding="0" VerticalOptions="FillAndExpand" TabClicked="Tab_TabClicked"
                    HeaderColor="#7E2081" HeaderTextColor="Black" SelectionColor="White" CornerRadius="5" HasShadow="True" SelectedIndex="0">
            <control:XFTabControl.XFTabPages >
                <tabview:XFTabPage>
                    <tabview:XFTabPage.Header>
                        <tabview:XFTabHeader Padding="0">
                            <Label HorizontalOptions="CenterAndExpand" VerticalOptions="CenterAndExpand" FontSize="Medium" FontFamily="SofiaPro-Bold" TextColor="White" FontAttributes="Bold"
                                   Text="Productos" />
                        </tabview:XFTabHeader>
                    </tabview:XFTabPage.Header>
                    <tabview:XFTabPage.CustomContentPage>
                        <Local:BrandProductsPage/>
                    </tabview:XFTabPage.CustomContentPage>
                </tabview:XFTabPage>
                <tabview:XFTabPage>
                    <tabview:XFTabPage.Header>
                        <tabview:XFTabHeader>
                            <Label HorizontalOptions="Center" VerticalOptions="Center" FontSize="Medium" FontFamily="SofiaPro-Bold" TextColor="White" FontAttributes="Bold"
                                   Text="Promos" />
                        </tabview:XFTabHeader>
                    </tabview:XFTabPage.Header>
                    <tabview:XFTabPage.CustomContentPage>
                        <Local:PromosBrandPage/>
                    </tabview:XFTabPage.CustomContentPage>
                </tabview:XFTabPage>
                <tabview:XFTabPage>
                    <tabview:XFTabPage.Header>
                        <tabview:XFTabHeader>
                            <Label HorizontalOptions="Center" VerticalOptions="Center" FontSize="Medium" FontFamily="SofiaPro-Bold" TextColor="White" FontAttributes="Bold"
                                   Text="Información" />
                        </tabview:XFTabHeader>
                    </tabview:XFTabPage.Header>
                    <tabview:XFTabPage.CustomContentPage>
                        <Local:InfoBrandPage />
                    </tabview:XFTabPage.CustomContentPage>
                </tabview:XFTabPage>

            </control:XFTabControl.XFTabPages>
        </control:XFTabControl>

    </Grid>
    </ScrollView>
</ContentPage>